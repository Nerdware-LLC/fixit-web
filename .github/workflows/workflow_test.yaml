name: Test Workflow

on:
  workflow_dispatch:
  workflow_call:

env:
  NODE_ENV: test
  REACT_APP_STRIPE_PUBLISHABLE_KEY: ${{ secrets.REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY }}
  REACT_APP_API_BASE_URL: http://localhost:8080
  # TODO Once fixit-api dev Docker img is available, impl docker-compose for int tests.

jobs:
  test:
    uses: Nerdware-LLC/reusable-action-workflows/.github/workflows/node_test.yaml@main
    secrets:
      CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
